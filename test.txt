@app.route('/search', methods=['GET', 'POST'])
def search():
    patterns = []
    if request.method == 'POST':
        query = request.form['query']
        cur = mysql.connection.cursor()
        cur.execute("SELECT * FROM pitch_patterns WHERE name LIKE %s", ('%' + query + '%',))
        patterns = cur.fetchall()
        cur.close()
    return render_template('search.html', patterns=patterns)